---
title: 图
date: 2019-03-23 21:21:56
tags:
  - 数据结构与算法
---

图看起来就像下图这样：

{% asset_img 1.png %}

一个图就是一些顶点的集合，这些顶点通过边连接。
顶点用圆圈表示，边就是这些圆圈之间的连线。顶点之间通过边连接。

注意：顶点有时也被称为节点或者交点，边有时也称为链接。
图有两种表示方法：邻接列表和邻接矩阵。
**邻接列表**：在邻接列表实现中，每一个顶点会存储一个从它这里开始的边的列表。比如，如果顶点A有一条边到B、C和D，那么A的列表中会有3条边

{% asset_img 2.webp %}{% asset_img 3.webp %}

邻接列表只描述了指向外部的边。A有一条边到B，但是B没有边到A，所以A没有出现在B的邻接列表中。查找两个顶点之间的边或者权重会比较费时，因为遍历邻接列表知道找到为止。

**邻接矩阵**：在邻接矩阵实现中，由行和列都表示顶点，由两个顶点所决定的矩阵对应元素表示这里两个顶点是否相连、如果相连这个值表示的是相连边的权重。例如，如果从顶点A到顶点B有一条权重为5.6的边，那么矩阵中第A行第B列的位置的元素值应该是5.6：
{% asset_img 4.webp %}{% asset_img 5.webp %}
往这个图中添加顶点的成本非常昂贵，因为新的矩阵结果必须重新按照新的行/列创建，然后将已有的数据复制到新的矩阵中。
所以使用哪一个呢？大多数的时候，选择邻接列表是正确的。下面是两种方法更详细的的比较。
假设V表示图中的顶点的个数，E表示边的个数。

|操作		|邻接列表	|邻接矩阵	|
|--			|--			|--			|
|存储空间	|O(V+E)		|O(V^2)		|
|添加顶点	|O(1)		|O(V^2)		|
|添加边		|O(1)		|O(1)		|
|检查相邻行	|O(V)		|O(1)		|

“检查相邻性”是指对于给定的顶点，尝试确定它是否是另一个顶点的邻居。在邻接列表中检查相邻性的时间复杂度是O(V)，因为最坏的轻快是一个顶点与每一个顶点都相连。

在稀疏图的情况下，每一个顶点都只会和少数几个顶点相连，这种情况下相邻列表是最佳选择。如果这个图比较密集，每一个顶点都和大多数其他顶点相连，那么相邻矩阵更合适。

图可分为有向图和无向图。有向图的所有边都有方向，即确定了顶点到顶点的一个指向；而无向图的所有边都是双向的，即无向边所连接的两个顶点可以互相到达。顶点的度是指和该顶点相连的边的条数。特别是对于有向图来说，顶点的出边条数成为该顶点的出度，顶点的入边条数成为该顶点的入度。