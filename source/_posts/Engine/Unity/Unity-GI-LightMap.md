---
title: Unity GI LightMap
mathjax: true
date: 2019-03-30 21:44:01
tags:
	- Unity
categories: Unity
---
# 全局光照
全局光照（GI）是一种系统，用于模拟光如何从表面反射到其他表面（间接光），而不仅限于直接从光源击中表面的光（直接光）。
相反，物体的光照颜色计算只限于自身，直接从光源击中表面的光（直接光）即使局部光照（local illumination）。
一个典型的例子是“彩色渗色”，例如，阳光击中红色沙发会导致红灯反弹到其后面的墙上。另一个是当阳光在洞穴的开口处撞击地板并且在内部弹起时，洞穴的内部部分也被照亮。
传统上，视频游戏和其它实时图形应用仅限于直接照明，而间接照明所需计算太慢，因此它们只能用于非实时场景，如CG动画电影。解决这个限制的游戏方法是计算间接光，只能用于提前知道的物体和表面，不能移动（静态）。这样，慢的计算可以提前完成，但是由于对象不移动，所以以这种方式预先计算的间接光在运行时仍然是正确的。Unity支持这种称为烘烤GI（也称为烘烤光图）的技术，以“烘烤”命名-间接光被预先计算和存储的过程（烘烤）。除间接光之外，烘烤GI还可以利用更多的计算时间，从区域灯和间接光产生比通常可以通过实时技术实现的更真实的软阴影。
烘烤GI和预计算实时GI都有限制，只有静态对象可以包含在烘培/预计算中，所以移动物体不能将光反射到其它物体上，反之亦然。
# 光照图
对一些静态的物体和光，预先计算存储，不必实时计算，这个过程叫做baking。baking的结果就是一张lightmapping贴图。针对光照稳定的静态物体。
## 烘培Lightmapping
场景包含大量物体时，实时光照的阴影对有戏性能有很大的影响。使用烘培技术，可以将光线效果预渲染成贴图再作用到物体上模拟光影，从而提高性能。
步骤1：
1. 游戏物体及地面设置为Static；
2. 选择Window->Lightmapping->Bake Scene静态物体的影子只能烘培在静态物体上