---
title: 根签名
date: 2022-01-21 22:08:00
categories:
- RHI
- DirectX
- DirectX12
---
根签名的作用在于描述渲染管线需要的各种资源以什么样的方式传入以及在内存和现存中的布局。主要指定的是GPU上对应的寄存器。具体来讲，根签名描述了常量，常量缓冲区CBV，资源缓冲区视图SRV，无序访问缓冲区视图UAV，采样器等的寄存器规划的一个结构体。而且常量，根描述符，静态采样器等可以在根签名中赋值。

既然是着色器对象，根签名也要编译之后才能被GPU执行。

我们可以运行时动态编译根签名，也可以通过HLSL来生成根签名对象。我们通过HLSL来写一个根签名文件，然后用VS去编译它。这时候生成的依然是字节码，D3D12会在运行时将字节码解析成特定GPU执行的代码。通过`CreateRootSignature`可以创建根签名。通过`SetGraphicsRootSignature`可以设置图形管线的根签名。

然后我们还需要创建图形管线的状态对象。它需要填充一个`D3D12_GRAPHICS_PIPELINE_STATE_DESC`来描述索要创建的图形管线状态对象。里面有大量的成员。